@use 'pkg:breakpoint-sass' as breakpoint;
@use '../abstract/mixins';
@use '../abstract/media-queries';

body.custom-background-img {
  &::before {
    content: '';
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background-image: var(--custom-bg-img, none);
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    z-index: -1;
  }
}

// very ugly, but let's not spend much time on this
html.transp {
  .button,
  textarea,
  input:not(.slider),
  .box,
  #modal-wrap,
  #topnav div,
  #topnav.hover section:hover > a,
  #topnav section:active > a,
  .mselect__label,
  .mselect__list a,
  .site-buttons .dropdown,
  .site-buttons .shown .toggle,
  .mchat,
  .lobby__app__content,
  .lobby__box,
  .lobby__puzzle,
  .lobby__tv,
  .lobby__support,
  .tour-spotlight,
  .analyse__clock,
  .analyse__underboard__panels,
  .analyse__tools,
  .learn-stages .stage,
  .learn__screen,
  .learn__side-map .categ_stages,
  .puzzle__side > div,
  .study__side > div:nth-child(2),
  .analyse__underboard > div:nth-child(2),
  .coord-trainer__table,
  .crosstable,
  .game__meta {
    backdrop-filter: blur(10px);
  }

  @include breakpoint.breakpoint(media-queries.$mq-xx-small) {
    .ruser,
    .rcontrols,
    .rmoves {
      backdrop-filter: blur(10px);
    }
  }

  #us_profile {
    background-color: unset;
  }

  .puzzle__feedback {
    background: none;
  }

  .tour-spotlight:not(.disabled):hover {
    background-color: var(--c-bg-box);
  }
}
